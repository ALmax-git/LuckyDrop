<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lucky Drop - Lucky Community</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'montserrat': ['Montserrat', 'sans-serif'],
          },
          colors: {
            'lucky': {
              'dark': '#0a0a0f',
              'card': '#14141f',
              'border': '#1f1f2e',
              'accent': '#6366f1',
              'accent2': '#ec4899',
              'muted': '#6b7280',
            }
          }
        }
      }
    }
  </script>
  <style>
    body {
      box-sizing: border-box;
    }

    .gradient-text {
      background: linear-gradient(135deg, #6366f1 0%, #ec4899 50%, #f59e0b 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .gradient-btn {
      background: linear-gradient(135deg, #6366f1 0%, #ec4899 100%);
    }

    .gradient-btn:hover {
      background: linear-gradient(135deg, #818cf8 0%, #f472b6 100%);
    }

    .glow-effect {
      box-shadow: 0 0 60px rgba(99, 102, 241, 0.3), 0 0 100px rgba(236, 72, 153, 0.2);
    }

    .card-glow:hover {
      box-shadow: 0 8px 40px rgba(99, 102, 241, 0.15);
    }

    .progress-bar-a { background: linear-gradient(90deg, #6366f1, #818cf8); }
    .progress-bar-b { background: linear-gradient(90deg, #ec4899, #f472b6); }
    .progress-bar-c { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
    .progress-bar-d { background: linear-gradient(90deg, #10b981, #34d399); }
    .progress-bar-e { background: linear-gradient(90deg, #8b5cf6, #a78bfa); }

    .floating {
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    .pulse-glow {
      animation: pulseGlow 2s ease-in-out infinite;
    }

    @keyframes pulseGlow {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }
  </style>
</head>
<body class="h-full font-montserrat" x-data="luckyDropApp()">
  <div class="h-full overflow-auto bg-lucky-dark">

    <!-- Landing Page -->
    <div x-show="currentScreen === 'landing'" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" class="min-h-full">

      <!-- Decorative Background Elements -->
      <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-20 left-10 w-72 h-72 bg-purple-600/10 rounded-full blur-3xl floating"></div>
        <div class="absolute bottom-40 right-10 w-96 h-96 bg-pink-600/10 rounded-full blur-3xl floating" style="animation-delay: -3s;"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-600/5 rounded-full blur-3xl pulse-glow"></div>
      </div>

      <!-- Header -->
      <header class="relative z-10 px-6 py-5">
        <nav class="flex items-center justify-between max-w-6xl mx-auto">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl gradient-btn flex items-center justify-center">
              <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
              </svg>
            </div>
            <span class="text-xl font-bold text-white">Lucky<span class="text-pink-500">Drop</span></span>
          </div>
          <div class="hidden md:flex items-center gap-8">
            <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm font-medium">Features</a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm font-medium">Community</a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm font-medium">Rewards</a>
          </div>
          <button @click="currentScreen = 'dashboard'" class="px-4 py-2 rounded-xl bg-lucky-card border border-lucky-border text-white text-sm font-medium hover:bg-lucky-border transition-colors">
            Dashboard
          </button>
        </nav>
      </header>

      <!-- Hero Section -->
      <main class="relative z-10 px-6 py-16 md:py-24">
        <div class="max-w-4xl mx-auto text-center">

          <!-- Badge -->
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-lucky-card border border-lucky-border mb-8">
            <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
            <span class="text-sm text-gray-400">Season 3 Now Live</span>
          </div>

          <!-- Main Headline -->
          <h1 id="hero-title" class="text-4xl md:text-6xl lg:text-7xl font-extrabold text-white mb-6 leading-tight">
            Where Gamers
            <span class="gradient-text block mt-2">Get Rewarded</span>
          </h1>

          <p id="hero-subtitle" class="text-lg md:text-xl text-gray-400 max-w-2xl mx-auto mb-10 leading-relaxed">
            Join the ultimate gaming community. Earn exclusive drops, unlock rare rewards, and climb the leaderboards with your squad.
          </p>

          <!-- CTA Buttons -->
          <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-16">
            <button id="cta-button" class="w-full sm:w-auto px-8 py-4 rounded-xl gradient-btn text-white font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 glow-effect">
              Start Earning Now
            </button>
            <button class="w-full sm:w-auto px-8 py-4 rounded-xl bg-lucky-card border border-lucky-border text-white font-semibold text-lg hover:bg-lucky-border transition-colors flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"/>
              </svg>
              Watch Demo
            </button>
          </div>

          <!-- Stats -->
          <div class="grid grid-cols-3 gap-6 max-w-2xl mx-auto">
            <div class="text-center">
              <div class="text-3xl md:text-4xl font-bold text-white mb-1">250K+</div>
              <div class="text-sm text-gray-500">Active Players</div>
            </div>
            <div class="text-center">
              <div class="text-3xl md:text-4xl font-bold text-white mb-1">$2.5M</div>
              <div class="text-sm text-gray-500">Rewards Given</div>
            </div>
            <div class="text-center">
              <div class="text-3xl md:text-4xl font-bold text-white mb-1">98%</div>
              <div class="text-sm text-gray-500">Satisfaction</div>
            </div>
          </div>
        </div>

        <!-- Feature Cards -->
        <div class="max-w-5xl mx-auto mt-20 grid md:grid-cols-3 gap-6">
          <div class="p-6 rounded-2xl bg-lucky-card border border-lucky-border card-glow transition-all duration-300">
            <div class="w-12 h-12 rounded-xl bg-indigo-500/20 flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Daily Drops</h3>
            <p class="text-gray-500 text-sm">Log in every day to claim exclusive rewards and bonus multipliers.</p>
          </div>

          <div class="p-6 rounded-2xl bg-lucky-card border border-lucky-border card-glow transition-all duration-300">
            <div class="w-12 h-12 rounded-xl bg-pink-500/20 flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-pink-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Squad Goals</h3>
            <p class="text-gray-500 text-sm">Team up with friends and complete challenges together for bonus XP.</p>
          </div>

          <div class="p-6 rounded-2xl bg-lucky-card border border-lucky-border card-glow transition-all duration-300">
            <div class="w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Rare Loot</h3>
            <p class="text-gray-500 text-sm">Unlock limited edition items and exclusive skins only available here.</p>
          </div>
        </div>
      </main>
    </div>

    <!-- Ambassador Dashboard -->
    <div x-show="currentScreen === 'dashboard'" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 transform translate-x-4" x-transition:enter-end="opacity-100 transform translate-x-0" class="min-h-full pb-8">

      <!-- Dashboard Header -->
      <header class="px-6 py-5 border-b border-lucky-border">
        <div class="flex items-center justify-between max-w-6xl mx-auto">
          <div class="flex items-center gap-4">
            <button @click="currentScreen = 'landing'" class="w-10 h-10 rounded-xl bg-lucky-card border border-lucky-border flex items-center justify-center text-gray-400 hover:text-white hover:bg-lucky-border transition-colors">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
              </svg>
            </button>
            <div>
              <h1 id="dashboard-title" class="text-xl font-bold text-white">Ambassador Dashboard</h1>
              <p class="text-sm text-gray-500">Track your referral progress</p>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <div class="hidden sm:flex items-center gap-2 px-3 py-2 rounded-xl bg-lucky-card border border-lucky-border">
              <span class="w-2 h-2 rounded-full bg-green-500"></span>
              <span class="text-sm text-gray-400">Elite Status</span>
            </div>
            <div class="w-10 h-10 rounded-xl overflow-hidden border-2 border-indigo-500">
              <div class="w-full h-full gradient-btn flex items-center justify-center text-white font-bold">
                JD
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Dashboard Content -->
      <div class="px-6 py-8 max-w-6xl mx-auto">

        <!-- Overview Cards -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
          <div class="p-4 rounded-2xl bg-lucky-card border border-lucky-border">
            <div class="text-sm text-gray-500 mb-1">Total Referrals</div>
            <div class="text-2xl font-bold text-white">1,247</div>
            <div class="text-xs text-green-400 mt-1">↑ 12% this week</div>
          </div>
          <div class="p-4 rounded-2xl bg-lucky-card border border-lucky-border">
            <div class="text-sm text-gray-500 mb-1">Earnings</div>
            <div class="text-2xl font-bold text-white">$3,850</div>
            <div class="text-xs text-green-400 mt-1">↑ 8% this week</div>
          </div>
          <div class="p-4 rounded-2xl bg-lucky-card border border-lucky-border">
            <div class="text-sm text-gray-500 mb-1">Conversion</div>
            <div class="text-2xl font-bold text-white">24.5%</div>
            <div class="text-xs text-amber-400 mt-1">→ Same as last week</div>
          </div>
          <div class="p-4 rounded-2xl bg-lucky-card border border-lucky-border">
            <div class="text-sm text-gray-500 mb-1">Rank</div>
            <div class="text-2xl font-bold gradient-text">#42</div>
            <div class="text-xs text-green-400 mt-1">↑ 5 positions</div>
          </div>
        </div>

        <!-- Main Grid -->
        <div class="grid lg:grid-cols-3 gap-6">

          <!-- Referral Categories Progress -->
          <div class="lg:col-span-2 p-6 rounded-2xl bg-lucky-card border border-lucky-border">
            <div class="flex items-center justify-between mb-6">
              <h2 class="text-lg font-semibold text-white">Referral Categories</h2>
              <span class="text-sm text-gray-500">Monthly Progress</span>
            </div>

            <div class="space-y-5">
              <!-- Category A -->
              <div>
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg bg-indigo-500/20 flex items-center justify-center">
                      <span class="text-sm font-bold text-indigo-400">A</span>
                    </div>
                    <div>
                      <span class="text-white font-medium">Premium Gamers</span>
                      <p class="text-xs text-gray-500">High-value referrals</p>
                    </div>
                  </div>
                  <span class="text-sm text-gray-400" x-text="categoryA + '/100'"></span>
                </div>
                <div class="h-3 bg-lucky-border rounded-full overflow-hidden">
                  <div class="h-full progress-bar-a rounded-full transition-all duration-500" :style="'width: ' + categoryA + '%'"></div>
                </div>
              </div>

              <!-- Category B -->
              <div>
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg bg-pink-500/20 flex items-center justify-center">
                      <span class="text-sm font-bold text-pink-400">B</span>
                    </div>
                    <div>
                      <span class="text-white font-medium">Casual Players</span>
                      <p class="text-xs text-gray-500">Regular activity</p>
                    </div>
                  </div>
                  <span class="text-sm text-gray-400" x-text="categoryB + '/100'"></span>
                </div>
                <div class="h-3 bg-lucky-border rounded-full overflow-hidden">
                  <div class="h-full progress-bar-b rounded-full transition-all duration-500" :style="'width: ' + categoryB + '%'"></div>
                </div>
              </div>

              <!-- Category C -->
              <div>
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center">
                      <span class="text-sm font-bold text-amber-400">C</span>
                    </div>
                    <div>
                      <span class="text-white font-medium">New Signups</span>
                      <p class="text-xs text-gray-500">Fresh accounts</p>
                    </div>
                  </div>
                  <span class="text-sm text-gray-400" x-text="categoryC + '/100'"></span>
                </div>
                <div class="h-3 bg-lucky-border rounded-full overflow-hidden">
                  <div class="h-full progress-bar-c rounded-full transition-all duration-500" :style="'width: ' + categoryC + '%'"></div>
                </div>
              </div>

              <!-- Category D -->
              <div>
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center">
                      <span class="text-sm font-bold text-emerald-400">D</span>
                    </div>
                    <div>
                      <span class="text-white font-medium">Content Creators</span>
                      <p class="text-xs text-gray-500">Streamers & creators</p>
                    </div>
                  </div>
                  <span class="text-sm text-gray-400" x-text="categoryD + '/100'"></span>
                </div>
                <div class="h-3 bg-lucky-border rounded-full overflow-hidden">
                  <div class="h-full progress-bar-d rounded-full transition-all duration-500" :style="'width: ' + categoryD + '%'"></div>
                </div>
              </div>

              <!-- Category E -->
              <div>
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center">
                      <span class="text-sm font-bold text-violet-400">E</span>
                    </div>
                    <div>
                      <span class="text-white font-medium">Team Captains</span>
                      <p class="text-xs text-gray-500">Squad leaders</p>
                    </div>
                  </div>
                  <span class="text-sm text-gray-400" x-text="categoryE + '/100'"></span>
                </div>
                <div class="h-3 bg-lucky-border rounded-full overflow-hidden">
                  <div class="h-full progress-bar-e rounded-full transition-all duration-500" :style="'width: ' + categoryE + '%'"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Generate Link Card -->
          <div class="space-y-6">
            <div class="p-6 rounded-2xl bg-gradient-to-br from-indigo-600/20 to-pink-600/20 border border-indigo-500/30">
              <div class="w-12 h-12 rounded-xl gradient-btn flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                </svg>
              </div>
              <h3 class="text-lg font-semibold text-white mb-2">Generate Referral Link</h3>
              <p class="text-sm text-gray-400 mb-4">Create a unique link to share with your community and start earning.</p>

              <div class="mb-4">
                <label class="text-xs text-gray-500 mb-2 block">Campaign Name</label>
                <input
                  type="text"
                  x-model="campaignName"
                  placeholder="e.g., Twitter Summer"
                  class="w-full px-4 py-3 rounded-xl bg-lucky-dark border border-lucky-border text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500 transition-colors"
                >
              </div>

              <button
                @click="generateLink()"
                class="w-full py-3 rounded-xl gradient-btn text-white font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                </svg>
                Generate Link
              </button>

              <!-- Generated Link Display -->
              <div x-show="generatedLink" x-transition class="mt-4 p-3 rounded-xl bg-lucky-dark border border-lucky-border">
                <div class="text-xs text-gray-500 mb-1">Your Link</div>
                <div class="flex items-center gap-2">
                  <code class="flex-1 text-sm text-indigo-400 truncate" x-text="generatedLink"></code>
                  <button @click="copyLink()" class="p-2 rounded-lg bg-lucky-card hover:bg-lucky-border transition-colors" :class="copied ? 'text-green-400' : 'text-gray-400'">
                    <svg x-show="!copied" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                    </svg>
                    <svg x-show="copied" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>

            <!-- Quick Stats Card -->
            <div class="p-6 rounded-2xl bg-lucky-card border border-lucky-border">
              <h3 class="text-lg font-semibold text-white mb-4">Top Performing Links</h3>
              <div class="space-y-3">
                <div class="flex items-center justify-between p-3 rounded-xl bg-lucky-dark">
                  <div>
                    <div class="text-sm text-white font-medium">Discord Launch</div>
                    <div class="text-xs text-gray-500">Created 2 days ago</div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-green-400 font-semibold">+342</div>
                    <div class="text-xs text-gray-500">clicks</div>
                  </div>
                </div>
                <div class="flex items-center justify-between p-3 rounded-xl bg-lucky-dark">
                  <div>
                    <div class="text-sm text-white font-medium">YouTube Bio</div>
                    <div class="text-xs text-gray-500">Created 1 week ago</div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-green-400 font-semibold">+218</div>
                    <div class="text-xs text-gray-500">clicks</div>
                  </div>
                </div>
                <div class="flex items-center justify-between p-3 rounded-xl bg-lucky-dark">
                  <div>
                    <div class="text-sm text-white font-medium">Twitter Thread</div>
                    <div class="text-xs text-gray-500">Created 2 weeks ago</div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-green-400 font-semibold">+156</div>
                    <div class="text-xs text-gray-500">clicks</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const defaultConfig = {
      hero_title: 'Where Gamers Get Rewarded',
      hero_subtitle: 'Join the ultimate gaming community. Earn exclusive drops, unlock rare rewards, and climb the leaderboards with your squad.',
      cta_text: 'Start Earning Now',
      dashboard_title: 'Ambassador Dashboard',
      primary_color: '#6366f1',
      secondary_color: '#ec4899',
      background_color: '#0a0a0f',
      card_color: '#14141f',
      text_color: '#ffffff'
    };

    function luckyDropApp() {
      return {
        currentScreen: 'landing',
        categoryA: 78,
        categoryB: 62,
        categoryC: 45,
        categoryD: 34,
        categoryE: 21,
        campaignName: '',
        generatedLink: '',
        copied: false,

        generateLink() {
          const slug = this.campaignName
            ? this.campaignName.toLowerCase().replace(/\s+/g, '-')
            : 'default';
          const randomId = Math.random().toString(36).substring(2, 8);
          this.generatedLink = `luckydrop.gg/r/${slug}-${randomId}`;
          this.copied = false;
        },

        copyLink() {
          if (this.generatedLink) {
            navigator.clipboard.writeText(this.generatedLink);
            this.copied = true;
            setTimeout(() => this.copied = false, 2000);
          }
        }
      };
    }

    // Element SDK initialization
    async function onConfigChange(config) {
      const heroTitle = document.getElementById('hero-title');
      const heroSubtitle = document.getElementById('hero-subtitle');
      const ctaButton = document.getElementById('cta-button');
      const dashboardTitle = document.getElementById('dashboard-title');

      if (heroTitle) {
        const titleText = config.hero_title || defaultConfig.hero_title;
        const parts = titleText.split(' ');
        if (parts.length > 2) {
          heroTitle.innerHTML = parts.slice(0, 2).join(' ') + '<span class="gradient-text block mt-2">' + parts.slice(2).join(' ') + '</span>';
        } else {
          heroTitle.textContent = titleText;
        }
      }
      if (heroSubtitle) heroSubtitle.textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
      if (ctaButton) ctaButton.textContent = config.cta_text || defaultConfig.cta_text;
      if (dashboardTitle) dashboardTitle.textContent = config.dashboard_title || defaultConfig.dashboard_title;
    }

    window.elementSdk.init({
      defaultConfig,
      onConfigChange,
      mapToCapabilities: (config) => ({
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => window.elementSdk.setConfig({ background_color: value })
          },
          {
            get: () => config.card_color || defaultConfig.card_color,
            set: (value) => window.elementSdk.setConfig({ card_color: value })
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => window.elementSdk.setConfig({ text_color: value })
          },
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => window.elementSdk.setConfig({ primary_color: value })
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => window.elementSdk.setConfig({ secondary_color: value })
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || 'Montserrat',
          set: (value) => window.elementSdk.setConfig({ font_family: value })
        },
        fontSizeable: {
          get: () => config.font_size || 16,
          set: (value) => window.elementSdk.setConfig({ font_size: value })
        }
      }),
      mapToEditPanelValues: (config) => new Map([
        ['hero_title', config.hero_title || defaultConfig.hero_title],
        ['hero_subtitle', config.hero_subtitle || defaultConfig.hero_subtitle],
        ['cta_text', config.cta_text || defaultConfig.cta_text],
        ['dashboard_title', config.dashboard_title || defaultConfig.dashboard_title]
      ])
    });
  </script>
</body>
</html>
